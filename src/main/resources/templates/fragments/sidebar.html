<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/thymeleaf-extras-springsecurity6" lang="en">
<head>
    <title>Sidebar</title>
    <meta charset="UTF-8" />
</head>
<body>
<div th:fragment="sidebar" class="container">
    <div class="sidebar active">
        <div class="menu-btn">
            <i class="ph-bold ph-caret-left"></i>
        </div>
        <a href="/loginForm" sec:authorize="!isAuthenticated()"
           style="text-decoration-line: none">
            <div class="head">
                <div class="user-img">
                    <img class="profile-img" src="/img/profileImg/defaultProfilePic.jpg" alt="Profile Image">
                </div>
                <div class="user-details">
                    <p class="title">Guest</p>
                    <p class="name">Sign in to continue</p>
                </div>
            </div>
        </a>
        <a th:href="@{|/profile/${userno}|}" sec:authorize="isAuthenticated()"
           style="text-decoration-line: none">
            <div class="head">
                <div class="user-img">
                    <img class="profile-img" th:src="${profileImg} != null ? '/img/profileImg/' + ${profileImg} : '/img/profileImg/defaultProfilePic.jpg'" alt="Profile Image">
                </div>
                <div class="user-details">
                    <p class="title"></p>
                    <p class="name">[[${nickname}]]</p>
                </div>
            </div>
        </a>
        <div class="nav">
            <div class="menu">
                <ul>
                    <li sec:authorize="isAuthenticated()">
                        <a href="/novel/myNovelList">
                            <i class="icon ph-bold ph-file-text"></i>
                            <span class="text">Works</span>
                        </a>
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a href="#">
                            <i class="icon ph-bold ph-sparkle"></i>
                            <span class="text">Creation</span>
                            <i class="arrow ph-bold ph-caret-down"></i>
                        </a>
                        <ul class="sub-menu">
                            <li>
                                <a href="/novel/nvup">
                                    <span class="text">Upload a novel</span>
                                </a>
                            </li>
                            <li>
                                <a href="/character/createVoice">
                                    <span class="text">Create a voice</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a href="/ws/chat" th:href="@{/ws/rooms}">
                            <i class="icon ph-bold ph-envelope-simple"></i>
                            <span class="text">Chat</span>
                        </a>
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a href="/ws/chat" th:href="|/character/list|">
                            <i class="icon ph-bold ph-chat-circle-dots"></i>
                            <span class="text">Character Chat</span>
                        </a>
                    </li>
                    <li sec:authorize="isAuthenticated()">
                        <a href="#">
                            <i class="icon ph-bold ph-cookie"></i>
                            <span class="text">Dashboard</span>
                            <i class="arrow ph-bold ph-caret-down"></i>
                        </a>
                        <ul class="sub-menu">
                            <li>
                                <a href="/novel/myNovelList">
                                    <span class="text">Works</span>
                                </a>
                            </li>
                            <li>
                                <a href="/pp/payment">
                                    <span class="text">Paying</span>
                                </a>
                            </li>
                            <li>
                                <a href="/adult/form">
                                    <span class="text">Age Verification</span>
                                </a>
                            </li>
                            <li>
                                <a th:href="@{|/pp/payment|}">
                                    <span class="text">Pie Shop</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="menu" sec:authorize="isAuthenticated()">
                <p class="title">Settings</p>
                <ul>
                    <li>
                        <a href="#">
                            <i class="icon ph-bold ph-gear"></i>
                            <span class="text">Settings</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="menu">
            <p class="title">Account</p>
            <ul>
                <li>
                    <a href="#">
                        <i class="icon ph-bold ph-info"></i>
                        <span class="text">Help</span>
                    </a>
                </li>
                <li>
                    <a href="/loginForm" sec:authorize="!isAuthenticated()">
                        <i class="icon ph-bold ph-sign-in"></i>
                        <span class="text">Sign in</span>
                    </a>
                </li>
                <li>
                    <a href="/logout" sec:authorize="isAuthenticated()">
                        <i class="icon ph-bold ph-sign-out"></i>
                        <span class="text">Sign out</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
</body>
</html>